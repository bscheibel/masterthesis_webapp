<!doctype html>
<head>
  <title>Dimension Extraction</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
<!--<div class="split left">-->
<div class="container">
    <div class="column column-one">
            <h1>Drawing</h1>
            <p> <a href="http://localhost:5000/"> Upload another drawing </a> </p>
        {% if filename %}
        <div class="images">
            <img src="{{ url_for('send_file', filename=filename) }}"/>
            <div class="red" ></div>
        </div>
        {% else %}
        <h1>no image for whatever reason</h1>
        {% endif %}
    </div>
<!--<div class="split middle">-->
    <div class="column column-two" id="measurements">
            <h1>Extracted Measurements</h1>
                <font size="3" face="Courier New" >
                <form>
                <table>
                    <tr>
                        <td style="text-align:center"><h3>Key Value</h3></td>
                        <td style="text-align:center"><h3>Target Value</h3></td>
                        <td style="text-align:center"><h3>Actual Value</h3></td>
                    </tr>

                        {{ text | safe}}


                 <!--  {% for key in dims %}
                    <td><h4> {{key}} </h4></td>
                        {% for d in dims[key] %}
                    <tr>
                        <td style="text-align:center"><input type="checkbox" name="relevant[]" value="checked"></td>
                        <td style="text-align:center"> {{ d }}</td>
                        <td style="text-align:center"><input type="text" name="{{ d }}" size="10"></td>
                    </tr>
                        {% endfor %}
                    {% endfor %}-->


                </table>
                </form>
                </font>
        <div id="result">Result</div>
    </div>
    <!--<div class="split right">-->
    <div class="column column-three">
            <h1>Additional Infos</h1>
                <table>
                    {% for k in isos %}
                     <tr>
                        <td><a href="{{ url_for('generate', name=k) }}" > {{ k }} </a> </td>
                    </tr>
                {% endfor %}
                </table>
    </div>
</div>

<script>

    $(document).ready(function(){

        $("input[type=number]").on("change keyup input", function(){

            // Print entered value in a div box
            var coords = $(this).attr('data-coords');
            var key = $(this).attr('name'));
            $("#result").text($(this).val());
            $("#result").append($(this).attr('name'));
            $("#result").append(coords);

        });

         $("input[type=checkbox]").on("change keyup input", function(){

            // Print entered value in a div box
            $("#result").text($(this).attr('name'));

        });
    });

   </script>
    <script type="text/javascript">
    var key = "blub";
    $(document).ready(function(key) {
        $.ajax({
            url: "http://127.0.0.1:7379/GET/" + key,
            data: "format=json",
            dataType: "json",
            success: function(data)
            {
                $("#result").text(data.GET);
            }
        });
    });


</script>
</body>
